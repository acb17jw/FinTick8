!function(e,t){for(var n in t)e[n]=t[n]}(window,function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="https://assets.allegrostatic.com/opbox-multisearch-search/",n(n.s=0)}({0:function(e,t,n){e.exports=n("WdQY")},GI1G:function(e){e.exports=JSON.parse('{"a":"https://assets.allegrostatic.com/metrum/icon/trash-bin-140518fe35.svg"}')},WdQY:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){return e.querySelector('[data-role="suggestions-apron-'.concat(t,'"]'))}function u(e){var t=s(e.fields,e.index);t.classList.remove("mpof_5r"),t.classList.add("mpof_z0")}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function d(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.r(t);var f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},m=RegExp(Object.keys(f).join("|"),"g");function p(e,t){return null==t&&(t=","),e.length<=0?new g([""],[]):new g([""].concat(d(Array(e.length-1).fill(t)),[""]),e)}function h(e){return new g([e+""],[])}var v,g=function(){function e(t,n){r(this,e),this._parts=t,this._subs=n}return a(e,[{key:"_escapeHtml",value:function(t){return t instanceof e?t:Array.isArray(t)?p(t,""):(t+"").replace(m,(function(e){return f[e]}))}},{key:"toString",value:function(){var e=this;return this._parts.reduce((function(t,n,r){var o=e._subs[r-1];return t+e._escapeHtml(o)+n}))}},{key:"inspect",value:function(){return"".concat(this.constructor.name," '").concat(this.toString(),"'")}}]),e}();function y(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new g(e,n)}function b(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function _(e){return e.suggestions.filter((function(e){return e.type===v.PHRASE||e.type===v.CATEGORY}))}!function(e){e.PHRASE="PHRASE",e.CATEGORY="CATEGORY"}(v||(v={}));var x={"pl-PL":{heading:[["",["Wpisz czego szukasz"]]],subtitle:[["",["Znajdziemy sprzedawców, którzy mają wszystko czego szukasz."]]],item:[["",["przedmiot"]]],placeholder:[["",["czego szukasz?"]]],clearInput:[["",["wyczyść input"]]],errorMessage:[["",["Wprowadź frazę"]]],categorySeparator:[["",["w kategorii"]]],closeModal:[["",["zamknij modal"]]],addNext:[["",["Dodaj kolejny"]]],submit:[["",["szukaj"]]]}},E=/({{[^}]+}}|{%[^%}]+%})/g,S=/({{[^}]+}})/g,w=/({%[^%}]+%})/g,k=/({{\s*|\s*}}|{%\s*|\s*%})/g;function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.find((function(e){return e[0]===t}))[1]}var j=function(e,t,n){var r=x["pl-PL"][e];if(!r)throw Error('Missing translation for lang "pl-PL" and key "'.concat(e,'"'));return t?function(e,t,n){var r,o=I(e,t.context);return function(e,t,n){if(n){var r=0;return e.split(E).map((function(n){if(n.match(w)){var o=t.formatters[r];if(o)return r+=1,o(n.replace(k,""));throw Error('Missing translation formatter for "'.concat(e,'"'))}return n.match(S)?t[n.replace(k,"")]:n}))}var o=e.match(E),a=0;return o?o.reduce((function(n,r){var o=r.replace(k,"");if(r.match(w)){var i=t.formatters[a];if(i)return a+=1,n.replace(r,i(o));throw Error('Missing translation formatter for "'.concat(e,'"'))}return r.match(S)?n.replace(r,t[o]):n}),e):e}(o=parseInt(t.count,10)>=0?function(e,t){var n,r=1==(n=t)?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2;return"boolean"!=typeof r?e[r]:e[r?1:0]}(o,t.count):(r=o,function(e){if(Array.isArray(e))return e}(r)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),1!==n.length);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}}(r)||c(r,1)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],t,n)}(r,t,n):I(r)[0]};function O(){var e=b(['<div class="','" data-role="suggestion" data-index="','"><span class="','" data-role="suggestion-text">',"</span></div>"]);return O=function(){return e},e}function M(){var e=b(['<div class="','" data-role="suggestion" data-phrase="','" data-category="','" data-alias="','" data-index="','"><span class="','" data-role="suggestion-text">',"",'<span class="','">'," ","</span>",'<span class="','">',"</span></span></div>"]);return M=function(){return e},e}function C(e){var t,n=(t=Object.assign({},e,{},{country:"pl",highlights:"b",sortByElementType:"true"}),Object.keys(t).filter((function(e){return!!t[e]})).map((function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t[e]))})).join("&"));return"".concat("/suggestions","?").concat(n)}function L(e,t){return Array.from(e.querySelectorAll(t))}function N(e){(function(e){return L(e,'[data-name="suggestions-apron"]')})(e).forEach((function(e){e.classList.remove("mpof_z0"),e.classList.add("mpof_5r"),e.innerHTML=""}))}var A=null;function q(e,t){return e.querySelector("#input".concat(t))}var z=function e(t){var n=this,o=t.fieldsDom,a=t.modalContainer,l=t.onShrink,c=t.onExpand,d=t.onSelect;r(this,e),i(this,"expandSuggester",(function(e){var t=e.index,r=e.phrase;e.isExpanded||(u({fields:n.fields,index:t}),r&&n.onExpand()),function(e){var t=e.fields,n=e.modalContainer,r=e.index,o=e.phrase,a=s(t,r);A=o,o?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return window.opbox.edge.get(C(e),{headers:{Accept:"application/vnd.allegro.public.v5+json"}}).then((function(e){return _(e.data)}))}({phrase:o}).then((function(e){A===o&&(e.length?(u({fields:t,index:r}),a.innerHTML=function(e){return e.length?p(e.map((function(e,t){return function(e,t){var n=e.categoryAlias,r=e.id,o=e.name,a=e.phrase;if(e.type===v.CATEGORY){var i=o.split(">"),s=i.pop();return y(M(),"mpof_ki meqh_en mqen_m6 _d38aa_3vJY_ mh36_16",a,r,n,t,"mg9e_8 mj7a_8 mh36_24 mvrt_24 mpof_vs m7er_k4 mjru_k4 mgmw_ag _d38aa_8S6Wm",j("categorySeparator")," ","mgmw_vr _d38aa_UizCm",i.join(">"),">"," ","mgmw_enp",s)}return y(O(),"mpof_ki meqh_en mqen_m6 _d38aa_3vJY_",t,"mg9e_8 mj7a_8 mh36_24 mvrt_24 mpof_vs m7er_k4 mjru_k4 mgmw_ag _d38aa_8S6Wm",h(a))}(e,t)})),""):""}(e),function(e,t){e.style.maxHeight="".concat(t,"px")}(a,function(e,t){var n=t.getBoundingClientRect().bottom,r=e.getBoundingClientRect().top;return 37*Math.floor(Number(n-r)/37)}(a,n))):N(t))})).catch((function(){N(t)})):N(t)}({fields:n.fields,modalContainer:n.modalContainer,index:t,phrase:r})})),i(this,"shrinkAll",(function(){N(n.fields),n.onShrink()})),i(this,"onInputClick",(function(e){var t=e.index,r=e.phrase,o=e.isExpanded;t&&(function(e,t){return s(e,t).classList.contains("mpof_z0")}(n.fields,t)?n.shrinkAll():(n.shrinkAll(),n.expandSuggester({index:t,phrase:r,isExpanded:o})))})),i(this,"onClickHandler",(function(e,t){var r=e.closest(t);if(r){var o=r.dataset.role.slice(-1);n.completeInput({target:e,inputIndex:o})}})),i(this,"completeInput",(function(e){var t=e.target,r=e.inputIndex;!function(e){var t,n=e.fields,r=e.target,o=e.inputIndex,a=e.onSuccessCallback,i=r.closest('[data-role="suggestion"]');if(i?t=i:r.dataset.index&&(t=r),t){var s=t.textContent,u=t.dataset,l=u.alias,c=u.category,d=u.phrase,f=q(n,o);f.value=l&&c&&d?d.replace(/(<([^>]+)>)/gi,""):s,a({alias:l,category:c,phrase:f.value})}}({fields:n.fields,target:t,inputIndex:r,onSuccessCallback:function(e){n.onSelect(Number(r),e),n.shrinkAll()}})})),this.fields=o,this.modalContainer=a,this.onShrink=l,this.onExpand=c,this.onSelect=d};function H(e){if(e.id)return e.id.slice(-1)}var B=n("GI1G");function F(){var e=b(['<div class="'," ",'" data-name="suggestions-apron" data-role="suggestions-apron-','"></div>']);return F=function(){return e},e}function P(){var e=b(['<div data-role="hint-for-input','" class="','">',"</div>"]);return P=function(){return e},e}function T(){var e=b(['<button type="button" data-role="remove-btn-','" class="','"><img src="','" class="','" alt="','" /></button>']);return T=function(){return e},e}function R(){var e=b(['<div data-role="multisearch-field-','" data-name="multisearch-field" class="','"><input id="','" type="text" class="','" placeholder="','" value="','" autocomplete="off" /><label class="','" for="','">'," ","</label>"," "," ","</div>"]);return R=function(){return e},e}function D(e,t){var n,r,o,a,i,s,u,l,c;e.insertAdjacentHTML("beforeend",(o=void 0===(r=(n=Object.assign({label:j("item"),removable:!0},t)).defaultValue)?"":r,a=n.index,s=void 0===(i=n.label)?j("item"):i,l=void 0!==(u=n.removable)&&u,c="input".concat(a),y(R(),a,"_1hylq _1h7wt mp7g_oh mwdn_1",c,"_14uqc _1tnz3 _d38aa_LwrQv",j("placeholder"),o?h(o):"","_qrgxc",c,a+1,s,function(e){return y(F(),"mp7g_f6 mj7u_0 msts_9u mjb5_w6 mx7m_1 mefy_co mnyp_co mdwl_co mlkp_ag m911_5r mtag_2 mm2b_2 mjyo_6x msbw_0 mldj_0 _d38aa_11auo","mpof_5r",e)}(a),l?y(T(),a,"mgn2_14 mp0t_0a m9qz_yo mp7g_oh mse2_40 mqu1_40 mtsp_ib mli8_k4 mp4t_0 m3h2_0 mryx_0 munh_0 m911_5r mefy_5r mnyp_5r mdwl_5r msbw_2 mldj_2 mtag_2 mm2b_2 mqvr_2 msa3_z4 mqen_m6 meqh_en m0qj_5r mgmw_wo msts_n7 mh36_16 mvrt_16 mg9e_0 mj7a_0 m9tr_pf m2ha_2 m8qd_qh mjt1_n2 bqyr8",B.a,"mjyo_6x mse2_40 meqh_en msa3_z4 m0s5_e6 mg9e_4 mvrt_4 mj7a_4 mh36_4 isflp",j("clearInput")):"",0===a?y(P(),a,"_6x7yn mgmw_1p mpof_5r _d38aa_2GxO8",j("errorMessage")):"")))}function G(e){var t=e.params,n=e.redirectToListing,r=void 0!==n&&n,o=new URL(window.location.href);if(!r){var a=t.flatMap((function(e,t){var n=e.categoryId,r=e.phrase;return["phrases=".concat(encodeURIComponent(r)),n&&"categoryId".concat(t,"=").concat(encodeURIComponent(n))]})).filter(Boolean);return"".concat(o.protocol,"//").concat(o.host,"/").concat("szukaj/multi","?").concat(a.join("&"))}var i=t[0],s=i.categoryAlias,u=i.categoryId,l=i.phrase;if(s||u){var c=s||u;return"".concat(o.protocol,"//").concat(o.host,"/").concat("kategoria","/").concat(c,"?string=").concat(l)}return"".concat(o.protocol,"//").concat(o.host,"/").concat("listing","?string=").concat(l)}var U="".replace,Y=/[&<>'"]/g,V={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},W=function(e){return V[e]};function K(e){var t=e.fields,n=e.inputSelector,r=e.removable;t.querySelectorAll('[data-name="multisearch-field"]').forEach((function(e,o){var a,i=e.querySelector(n);e.parentElement.removeChild(e),D(t,{defaultValue:(a=i.value,U.call(a,Y,W)),index:o,removable:r})}))}function J(e){var t=e.addNextInputBtn,n=e.disabled;t.disabled=n}function Q(e){var t,n;return(null===(t=e.parentElement.dataset.role)||void 0===t?void 0:t.includes("remove-btn"))||(null===(n=e.dataset.role)||void 0===n?void 0:n.includes("remove-btn"))}var Z='[data-name="suggestions-apron"]',$=function(){function e(t){var n=this,o=t.domNode,a=t.isMultisearch,s=t.onClose,u=t.params;r(this,e),i(this,"onClickHandler",(function(e){var t=e.target;Q(t)&&n.removeFieldHandler(t),t.matches("input")&&n.onInputClickHandler(t),t.closest(Z)?n.suggester.onClickHandler(t,Z):n.onOtherAreaClickHandler(t)})),i(this,"onAddNextInputHandler",(function(){var e=L(n.fields,"input").length;1===e&&K({fields:n.fields,inputSelector:"input",removable:!0}),e<5&&(D(n.fields,{index:e}),n.params.push({})),4===e&&J({addNextInputBtn:n.addNextInputBtn,disabled:!0})})),i(this,"amILastInput",(function(e){var t=L(n.fields,"input");return t[t.length-1]===e})),i(this,"setFocusOnNextField",(function(e){var t=H(e);if(t){var n=parseInt(t,10)+1;document.getElementById("input".concat(n)).focus()}})),i(this,"onKeyDownHandler",(function(e){var t=e.target;if("Enter"===e.key){if(t.matches('[data-role="add-next-input-btn"]')||t.matches('button[type="button"]')||Q(t))return;n.isSuggesterExpanded&&t.closest(Z)&&n.suggester.onClickHandler(t,Z),e.preventDefault(),t.matches("input")&&(n.isSuggesterExpanded&&n.suggester.shrinkAll(),n.amILastInput(t)?n.handleFormSubmit(e):t.matches("input")&&n.setFocusOnNextField(t))}})),i(this,"onInputValueChangeHandler",(function(e){var t=e.target,r=H(t),o=t.value;""===o&&n.shrinkSuggesters(),n.expandSuggester(r,o)})),i(this,"removeFieldHandler",(function(e){var t,r=Number(function(e){var t,n;return(null===(t=e.parentElement.dataset.role)||void 0===t?void 0:t.includes("remove-btn-"))?e.parentElement.dataset.role.split("remove-btn-")[1]:(null===(n=e.dataset.role)||void 0===n?void 0:n.includes("remove-btn-"))?e.dataset.role.split("remove-btn-")[1]:void 0}(e)),o=(t=r,n.fields.querySelector('[data-role="multisearch-field-'.concat(t,'"]')));o&&(window.opbox.analytics.sendBoxInteractionEvent({contextNode:o,label:"removeInputButton"}),o.parentElement.removeChild(o),n.params=function(e,t){var n=Array.from({length:e.length},(function(){return{}}));return e.forEach((function(e,r){if(r<t)n[r]=e;else{var o=Object.keys(e);o.forEach((function(e){"phrase"!==e&&(n[r][e]=null)})),r>t&&o.forEach((function(t){n[r-1][t]=e[t]}))}})),n.filter((function(e){return Object.keys(e).length}))}(n.params,r),J({addNextInputBtn:n.addNextInputBtn}),K({fields:n.fields,inputSelector:"input",removable:1!==L(n.fields,"input").length}))})),i(this,"handleFormSubmit",(function(e){var t;e.preventDefault(),(t=n.fields).querySelector("#input0").classList.remove("_vf6li"),t.querySelector('[data-role="hint-for-input0"]').classList.add("mpof_5r"),function(e,t){var n;return(n=L(e,"input"),n.filter((function(e){return e.value.trim().length>0}))).length>0}(n.fields)?(L(n.fields,"input").map((function(e){return e.value.trim()})).forEach((function(e,t){n.params[t]?n.params[t].phrase=e:n.params[t]={phrase:e}})),function(e){var t,n,r=e.isMultisearch,o=e.domNode,a=0,i={},s=[],u=function(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=c(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,a=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}(e.params);try{for(u.s();!(n=u.n()).done;){var l,f=n.value;(null===(l=f.phrase)||void 0===l?void 0:l.trim())?(s.push(Object.assign({},i,{},f)),a+=1,i={}):i=f}}catch(e){u.e(e)}finally{u.f()}if(Object.keys(i).length&&!(null===(t=i.phrase)||void 0===t?void 0:t.trim())&&s.push(i),window.opbox.analytics.sendBoxInteractionEvent({contextNode:o.querySelector('button[type="submit"]'),label:"searchButton",customParams:{quantity:a}}),1!==a)if(r){var m=[{name:"phrases",value:s.filter((function(e){return e.phrase})).map((function(e){return e.phrase}))}].concat(d(s.flatMap((function(e,t){e.phrase;var n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["phrase"]);return Object.keys(n).flatMap((function(e){return"categoryAlias"!==e?[{name:"".concat(e).concat(t),value:n[e]}]:[]}))}))),[{name:"p",value:"1"}]);window.opbox.changeParams(m)}else document.location.assign(G({params:s}));else document.location.assign(G({params:s,redirectToListing:!0}))}({domNode:n.domNode,params:n.params,isMultisearch:n.isMultisearch}),n.onFormClose(),e.target.blur()):function(e){e.querySelector("#input0").classList.add("_vf6li"),e.querySelector('[data-role="hint-for-input0"]').classList.remove("mpof_5r")}(n.fields)})),i(this,"handleSuggestionSelect",(function(e,t){var r=t.alias,o=t.category,a=t.phrase,i=n.params[e]||(n.params[e]={});Object.keys(i).forEach((function(e){i[e]=null})),i.phrase=a,r&&(i.categoryAlias=r),o&&(i.categoryId=o)})),i(this,"onOtherAreaClickHandler",(function(e){e.matches("input")||e.closest(Z)||n.shrinkSuggesters()})),i(this,"onInputClickHandler",(function(e){var t=H(e),r=e.value;n.suggester.onInputClick({index:t,phrase:r,isExpanded:n.isSuggesterExpanded})})),i(this,"onInputFocusHandler",(function(e){var t=e.target;window.opbox.analytics.sendBoxInteractionEvent({contextNode:t,label:"inputFocused"})})),i(this,"setSuggesterExpanded",(function(e){n.isSuggesterExpanded=e})),this.domNode=o,this.isMultisearch=a,this.onFormClose=s,this.params=u,this.isSuggesterExpanded=!1}return a(e,[{key:"initialize",value:function(){var e=this;this.setDOMElements(),this.fields&&(this.bindEventListeners(),this.suggester=new z({fieldsDom:this.fields,modalContainer:this.modalContainer,onExpand:function(){return e.setSuggesterExpanded(!0)},onShrink:function(){return e.setSuggesterExpanded(!1)},onSelect:this.handleSuggestionSelect}))}},{key:"setInitialInputValues",value:function(e){q(this.fields,0).value=e?decodeURIComponent(e):""}},{key:"shrinkSuggesters",value:function(){this.suggester.shrinkAll()}},{key:"setInitialFormFeatures",value:function(){5===L(this.fields,"input").length&&J({addNextInputBtn:this.addNextInputBtn,disabled:!0})}},{key:"setDOMElements",value:function(){this.fields=this.domNode.querySelector('[data-role="fields"]'),this.form=this.domNode.querySelector("form"),this.modalContainer=this.domNode.querySelector('[data-role="modal-container"]'),this.addNextInputBtn=this.domNode.querySelector('[data-role="add-next-input-btn"]')}},{key:"bindEventListeners",value:function(){var e=this;this.domNode.addEventListener("click",this.onClickHandler),this.addNextInputBtn.addEventListener("click",this.onAddNextInputHandler),this.fields.addEventListener("input",this.onInputValueChangeHandler),this.form.addEventListener("submit",this.handleFormSubmit),this.form.addEventListener("keydown",this.onKeyDownHandler),L(this.fields,"input").forEach((function(t){t.addEventListener("focus",e.onInputFocusHandler)}))}},{key:"expandSuggester",value:function(e,t){this.suggester.expandSuggester({index:e,phrase:t,isExpanded:this.isSuggesterExpanded})}}]),e}(),X=function(){function e(t,n){r(this,e),this.domNode=t,this.onClose=n}return a(e,[{key:"initialize",value:function(){this.setDOMElements(),this.closeModalButton&&this.bindEventListeners()}},{key:"setDOMElements",value:function(){this.closeModalButton=this.domNode.querySelector('[data-role="modal-close-button"]'),this.closeMobileModalButton=this.domNode.querySelector('[data-role="modal-overlay"]')}},{key:"bindEventListeners",value:function(){this.closeModalButton.addEventListener("click",this.onClose),this.closeMobileModalButton.addEventListener("click",this.onClose)}}]),e}(),ee="_14l7n".split(" "),te=function(e){return e.split(" ")},ne=te("mpof_ki"),re=te("mpof_5r"),oe=function(e,t){return e.forEach(t)},ae=function(e){return function(t){return e.remove(t)}},ie=function(e){return function(t){return e.add(t)}},se=function(){function e(t){var n=this,o=t.domNode,a=t.isMultisearch,s=t.isModalOpen,u=t.params;r(this,e),i(this,"handleModalOpen",(function(e){var t;ee.forEach((function(e){return window.document.body.classList.add(e)})),function(e){var t=e.classList;oe(re,ae(t)),oe(ne,ie(t))}(n.modal),window.document.addEventListener("keydown",n.handleEscKey,!1),n.initializeContent(null==e||null===(t=e.detail)||void 0===t?void 0:t.phrase),window.document.activeElement instanceof HTMLElement&&window.document.activeElement.blur()})),i(this,"handleModalClose",(function(){var e;ee.forEach((function(e){return window.document.body.classList.remove(e)})),e=n.modal.classList,oe(re,ie(e)),oe(ne,ae(e)),window.document.removeEventListener("keydown",n.handleEscKey,!1)})),i(this,"handleEscKey",(function(e){"Escape"===e.key&&(n.form.isSuggesterExpanded?n.form.shrinkSuggesters():n.handleModalClose())})),this.domNode=o,this.form=new $({domNode:o,isMultisearch:a,params:u,onClose:this.handleModalClose}),this.closeButton=new X(o,this.handleModalClose),this.isMultisearch=a,this.isModalOpen=s}return a(e,[{key:"initialize",value:function(){this.setDOMElements(),this.modal&&(this.isModalOpen&&this.handleModalOpen(),this.bindEventListeners())}},{key:"setDOMElements",value:function(){this.modal=this.domNode.querySelector('[data-role="modal"]')}},{key:"bindEventListeners",value:function(){window.addEventListener("multisearch-modal",this.handleModalOpen)}},{key:"initializeContent",value:function(e){this.form.initialize(),this.isMultisearch?this.form.setInitialFormFeatures():e&&this.form.setInitialInputValues(e),this.closeButton.initialize()}}]),e}(),ue=function(){function e(t){var n=t.baseNode,o=t.props;r(this,e),this.baseNode=n,this.props=o}return a(e,[{key:"onMount",value:function(){var e=this.props,t=e.isMultisearch,n=e.isModalOpen,r=e.params;new se({domNode:this.baseNode,isModalOpen:n,isMultisearch:t,params:r}).initialize()}}]),e}();window.opbox.component.register({prototypeName:"allegro.multisearch.search"},ue)}}));
//# sourceMappingURL=index-pl-PL_d29886a6.js.map