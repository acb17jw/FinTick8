((e,t)=>{for(var r in t)e[r]=t[r]})(window,(e=>{var t={};function r(i){if(t[i])return t[i].exports;var s=t[i]={i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return r.m=e,r.c=t,r.d=(e,t,i)=>{r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=(e,t)=>{if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(i,s,(t=>e[t]).bind(null,s));return i},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,"a",t),t},r.o=(e,t)=>({}.hasOwnProperty.call(e,t)),r.p="https://assets.allegrostatic.com/opbox-navigation-layers/",r(r.s=0)})({0(e,t,r){e.exports=r("O14P")},O14P(e,t,r){r.r(t);var i=r("kiQV");function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){return e.reduce((e,r)=>Object.assign({},e,{[r.getAttribute(t)]:r}),{})}function o(e){window.opbox&&window.opbox.boxViewsMarker&&window.opbox.boxViewsMarker.recursivelyMarkBoxAsVisible(e)}window.opbox.component.register({prototypeName:"allegro.navigation.layers",clientImplementationVersion:i.a},class{constructor({baseNode:e,delay:t=150}){s(this,"moveIndicator",e=>{if(!this.registryKeys.length)return;const t=e.getBoundingClientRect().top,r=this.registry[this.registryKeys[0]].trigger.getBoundingClientRect().top;this.indicator.style.top=t-r+"px"}),s(this,"showIndicator",()=>{this.indicator.classList.remove(this.hiddenClassName)}),s(this,"hideIndicator",()=>{this.indicator.classList.add(this.hiddenClassName)}),s(this,"showLayer",e=>{this.registry[e]&&(this.hideAllLayers(),this.showIndicator(),this.registry[e].trigger.classList.add(this.activeTriggerClassName),this.moveIndicator(this.registry[e].trigger),o(this.registry[e].layer))}),s(this,"hideLayer",e=>{this.registry[e]&&(this.registry[e].trigger.classList.remove(this.activeTriggerClassName),o(this.registry[e].layer))}),s(this,"hideAllLayers",()=>{this.hideIndicator(),this.registryKeys.forEach(this.hideLayer)}),s(this,"handleBaseNodeMouseenter",()=>{clearTimeout(this.deactiveAllGroupsTimeout)}),s(this,"handleBaseNodeMouseleave",()=>{this.deactiveAllGroupsTimeout=setTimeout(()=>{this.hideAllLayers()},this.delay)}),s(this,"handleLinkMouseenter",e=>{this.showLayerTimeout=setTimeout(()=>{this.showLayer(e.target.getAttribute("data-group-id"))},this.delay)}),s(this,"handleLinkMouseleave",()=>{clearTimeout(this.showLayerTimeout)}),this.baseNode=e,this.dataTriggerAttr="data-group-id",this.dataLayerAttr="data-layer-id",this.delay=t,this.layerAlwaysVisible=!!e.querySelector("[data-layer-always-visible]"),this.showLayerTimeout=null,this.deactiveAllGroupsTimeout=null,this.registry=(({layersTriggers:e,layers:t,triggersId:r,layersId:i})=>{const s=a(e,r),o=a(t,i),n={};return Object.keys(s).forEach(e=>{n[e]={trigger:s[e],layer:o[e]}}),n})({layersTriggers:Array.from(e.querySelectorAll(`[${this.dataTriggerAttr}]`)),layers:Array.from(e.querySelectorAll(`[${this.dataLayerAttr}]`)),triggersId:this.dataTriggerAttr,layersId:this.dataLayerAttr}),this.registryKeys=Object.keys(this.registry),this.indicator=e.querySelector("[data-navigation-layers-indicator]"),this.activeTriggerClassName="_882d6_2ZCw_",this.hiddenClassName="mpof_5r"}onMount(){this.registryKeys.length&&(this.layerAlwaysVisible||(this.baseNode.addEventListener("mouseenter",this.handleBaseNodeMouseenter,!1),this.baseNode.addEventListener("mouseleave",this.handleBaseNodeMouseleave,!1)),this.registryKeys.forEach(e=>{this.registry[e].trigger.addEventListener("mouseenter",this.handleLinkMouseenter,!1),this.registry[e].trigger.addEventListener("mouseleave",this.handleLinkMouseleave,!1)}))}onUnmount(){this.registryKeys.length&&(this.layerAlwaysVisible||(this.baseNode.removeEventListener("mouseenter",this.handleBaseNodeMouseenter,!1),this.baseNode.removeEventListener("mouseleave",this.handleBaseNodeMouseleave,!1)),this.registryKeys.forEach(e=>{this.registry[e].trigger.removeEventListener("mouseenter",this.handleLinkMouseenter,!1),this.registry[e].trigger.removeEventListener("mouseleave",this.handleLinkMouseleave,!1)}))}})},kiQV(e){e.exports=JSON.parse('{"a":"1"}')}}));
//# sourceMappingURL=index.es6_fd432c82.js.map